#!/bin/zsh
# zsh环境，所有的文件判断都不能加上""

# User specific environment and startup programs
export mypy=~/grocery-shop/language/python/
export mygcc=~/grocery-shop/language/gcc/
export mycx=~/grocery-shop/language/g++/
export mysh=~/grocery-shop/language/shell/
export myja=~/grocery-shop/language/java/
export algo=~/grocery-shop/algorithm/
export dst=~/grocery-shop/data-structure/
export bamboo=~/grocery-shop/bamboo/
export share=~/share/
export work=~/work/
export waf=~/work/job/ngtos/SE/TOPWAF/
export job=~/work/job/
export py=/usr/local/python/lib/python2.7/site-packages/

# PATH
if [[ -d $HOME/.local/bin ]]; then
    PATH=$HOME/.local/bin:$PATH
fi
if [[ -d /usr/local/nginx/sbin/ ]]; then
    PATH=/usr/local/nginx/sbin:$PATH
fi
if [[ -d /usr/local/mysql/bin/ ]]; then
    PATH=/usr/local/mysql/bin/:$PATH
fi
if [[ -d /usr/local/python/bin/ ]]; then
    PATH=$PATH:/usr/local/python/bin/
fi
export PATH

# svn configure
export SVN_EDITOR=vim

# java configure
export JAVA_HOME=/usr/local/java/jdk1.7.0_71
export CLASSPATH=.:%JAVA_HOME%/lib/dt.jar:%JAVA_HOME%/lib/tools.jar
export PATH=$PATH:$JAVA_HOME/bin

# maven configure
export M2_HOME=/usr/local/apache-maven
export M2=$M2_HOME/bin 
export PATH=$M2:$PATH

# zookeeper configure
export ZOOKEEPER_HOME=/usr/local/zookeeper
export PATH=$ZOOKEEPER_HOME/bin:$PATH

# storm configure
export STORM_HOME=/usr/local/storm
export PATH=$STORM_HOME/bin:$PATH

# streamparse
export LEIN_ROOT=0

# core dump 配置
ulimit -c unlimited

# pyenv
if [ -d ~/.pyenv ];then
    export PYENV_ROOT="$HOME/.pyenv"
    export PATH="$PYENV_ROOT/bin:$PATH"
    eval "$(pyenv init -)"
fi

# VPN
vpnport=24226
localport=1080
passwd="LbEZs7f4NfLS"
server="jp06-54.ssv7.net"
encrypt="aes-256-cfb"
netstat -nltp >/dev/null 2>&1|grep ${localport} >/dev/null 2>&1
if [[ $? -ne 0 ]];then
    nohup sslocal -s ${server} -p ${vpnport} -b 127.0.0.1 -l ${localport} -k ${passwd} -m ${encrypt} &
    echo ""
fi

# 正常方案
#       export TERM="screen-256color"
# 当前方案，vim和tmux配色方案的不兼容，导致的问题
#   1，shell中不设置term方案
#   2，将.tmux.conf文件中的default-terminal设置为 "xterm"
#       alias tmux="TERM=screen-256color-bce tmux"
#       或者
#       alias tmux="tmux -2"
alias tmux="tmux -2"

# 按键查看：cat + 键盘输入指定的按键，根据输出来查看
# zshrc 配置
bindkey  "^[[1~"   beginning-of-line
bindkey  "^[[4~"   end-of-line
